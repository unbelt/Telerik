<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>jQuery | Dropdown Plugin</title>
    <style type="text/css">
        #yearfilter li {
            margin: 1px;
            padding: 0;
            width: 150px;
            line-height: 30px;
            list-style: none;
            background-color: lightcyan;
            text-align: center;
            cursor: pointer;
            border: 1px solid lightgray;
        }
        #yearfilter .selected {
            background-color: #add8e6;
        }
    </style>
</head>
<body>
<h1>jQuery - Dropdown Plugin</h1>

<select id="yearfilter" name="yearfilter">
    <option value="all">All years</option>
    <option value="2014">2014</option>
    <option value="2013">2013</option>
    <option value="2012">2012</option>
    <option value="1990">1990</option>
</select>

<script type="text/javascript" src="lib/jquery-1.11.1.min.js"></script>

<script>
    (function ($) {
        $.fn.dropdown = function () {
            var $this = $(this);

            $('#yearfilter').parent().append('<ul id="newyearfilter" name="yearfilter"></ul>');
            $('#yearfilter option').each(function () {
                $('#newyearfilter')
                        .append('<li class="' + $(this).val() + '">' + $(this).text() + '</li>');
            });
            $('#yearfilter').remove();
            $('#newyearfilter').attr('id', 'yearfilter');

            $('#yearfilter li').click(function (e) {
                $('.all').removeClass('selected');
                $(this).toggleClass('selected');
            });

            $('.all').click(function (e) {
                $('li').addClass('selected');
            });

            return $this;
        }
    }(jQuery));

    $('#yearfilter').dropdown();
</script>
</body>
</html>